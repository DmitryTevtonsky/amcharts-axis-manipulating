(this["webpackJsonpamcharts-axis-manipulating"]=this["webpackJsonpamcharts-axis-manipulating"]||[]).push([[0],{113:function(e,a,t){e.exports={axisItem:"axis-item_axisItem__30H4p",isAxisItemDraggableNow:"axis-item_isAxisItemDraggableNow__16JzR",axisTitle:"axis-item_axisTitle__14LIv",axisTags:"axis-item_axisTags__2vjPB",isAxisDraggableBordered:"axis-item_isAxisDraggableBordered__3HKc-",isAxisTagsDroppableNow:"axis-item_isAxisTagsDroppableNow__1o5NZ",axisDragIcon:"axis-item_axisDragIcon__xGLn_"}},129:function(e,a,t){"use strict";var n;t.d(a,"a",(function(){return n})),function(e){e.settings="settings"}(n||(n={}))},132:function(e,a,t){e.exports={root:"page_root__2umMH",layout:"page_layout__8xvbr",sider:"page_sider__3h4Nr",header:"page_header__3JIsH",recalculatingResult:"page_recalculatingResult__mG2-C",content:"page_content__3vzB4",contentHidden:"page_contentHidden__12tl9"}},135:function(e,a,t){"use strict";t.d(a,"b",(function(){return p}));var n=t(1),r=t.n(n),i=t(51),s=t(41),o=t(39),c=t(153),l=["\u041d\u0430\u043f\u0440\u044f\u0436\u0435\u043d\u0438\u0435 U","\u0422\u043e\u043a I","\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u043c\u043e\u0449\u043d\u043e\u0441\u0442\u044c P","\u0420\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u043c\u043e\u0449\u043d\u043e\u0441\u0442\u044c Q","\u041f\u043e\u043b\u043d\u0430\u044f \u043c\u043e\u0449\u043d\u043e\u0441\u0442\u044c S","\u0424\u0430\u0437\u043d\u043e\u0435 \u043d\u0430\u043f\u0440\u044f\u0436\u0435\u043d\u0438\u0435 U"],d=["a","b","c"],u=function(){var e=c.random.arrayElement(l),a=c.random.arrayElement(d);return"".concat(e).concat(a)},g=function(){return{isLoaded:0,modalStates:null,tagsCount:10,pointsCount:100,isRandomTagsNames:!1,setSettings:function(e){var a=e.tagsCount,t=e.pointsCount,n=e.isRandomTagsNames;this.tagsCount=a,this.pointsCount=t,this.isRandomTagsNames=n},changeStateModal:function(e){this.modalStates?this.modalStates[e.type]=e:this.modalStates=Object(o.a)({},e.type,e)},isSiderCollapsed:!1,isSiderCollapsingNow:!1,setSiderCollapsed:function(e){var a=this;this.isSiderCollapsingNow=!0,this.isSiderCollapsed=e,setTimeout((function(){a.isSiderCollapsingNow=!1}),1e3)},chartInstance:null,setChartInstance:function(e){this.chartInstance=e},tagsDictionary:{},generateTags:function(e){var a=this,t=Array.from({length:e},(function(e,a){return a+1})).reduce((function(e,t){var n={id:"tag-".concat(t),name:a.isRandomTagsNames?u():"Tag-".concat(t)};return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},"tag-".concat(t),n))}),{});console.log("tags",t),this.tagsDictionary=t},isTagDraggingNow:!1,setIsTagDraggingNow:function(e){this.isTagDraggingNow=e},axesDictionary:{},setAxesDictionary:function(e){this.axesDictionary=e},axesOrder:[],setAxesOrder:function(e){this.axesOrder=e},generateAxes:function(e){var a=this,t=Array.from({length:e},(function(e,a){return a+1})).reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},"axis-".concat(t),{name:"Axis-".concat(t),id:"axis-".concat(t),tags:[a.tagsDictionary["tag-".concat(t)].id]}))}),{}),n=Object.keys(t);console.log("axes",t),this.axesOrder=n,this.axesDictionary=t},data:[],generateData:function(e){var a=this,t=e.tagsCount,n=void 0===t?10:t,r=e.pointsCount,i=void 0===r?100:r;this.generateTags(n),this.generateAxes(n);var c=Array.from({length:i},(function(e,t){return Object(s.a)({ts:new Date(2020,0,t)},Object.keys(a.tagsDictionary).reduce((function(e,a){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},a,Math.round(100*Math.random())+100))}),{}))}));console.log("data",c),this.data=c}}},p=r.a.createContext(null);a.a=function(e){var a=e.children,t=Object(i.b)(g),s=Object(n.useMemo)((function(){return{core:t}}),[t]);return r.a.createElement(p.Provider,{value:s},a)}},147:function(e,a,t){e.exports={legendLayout:"legend-layout_legendLayout__1XgHa",legendTitle:"legend-layout_legendTitle__1Prdt",legendTitleHidden:"legend-layout_legendTitleHidden__2tkku",legendDroppableContainer:"legend-layout_legendDroppableContainer__2zJkG",isContainerDroppableNow:"legend-layout_isContainerDroppableNow__vH6-F"}},159:function(e,a,t){e.exports={layout:"chart-layout_layout__3AZ1P",chartLayout:"chart-layout_chartLayout__2GBLU",chart:"chart-layout_chart__24cdx",chartDateAxis:"chart-layout_chartDateAxis__2v8Bf"}},1680:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),i=t(43),s=t.n(i),o=(t(259),t(135)),c=t(51),l=t(54),d=t(148),u=t(121),g=new u.b,p=function(e){var a=e.xAxes.push(new d.a);return a.startLocation=.5,a.endLocation=.5,a.renderer.minGridDistance=100,a.renderer.line.strokeOpacity=.5,a.renderer.line.strokeWidth=5,a.renderer.line.stroke=u.c("#000000"),a.renderer.ticks.template.disabled=!1,a.renderer.ticks.template.strokeOpacity=1,a.renderer.ticks.template.length=10,a.renderer.labels.template.location=.5,a.renderer.labels.template.verticalCenter="middle",a.renderer.labels.template.horizontalCenter="middle",a},m=function(e){var a=e.yAxes.push(new d.c);return a.renderer.gridContainer.background.fill=g.getFor("alternativeBackground"),a.renderer.gridContainer.background.fillOpacity=.05,a.renderer.inside=!0,a.renderer.maxLabelPosition=.99,a.renderer.labels.template.padding(0,2,0,2),a.renderer.labels.template.verticalCenter="bottom",a.marginBottom=10,a},b=function(e,a,t){console.log({valueAxis:a,id:t});var n=e.series.push(new d.b);return n.strokeWidth=1,n.dataFields.valueY="".concat(t),n.dataFields.dateX="ts",n.yAxis=a,n.name=t,n.tooltipText="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435: {valueY}",n},f=t(159),x=t.n(f),h=Object(c.a)((function(){var e=Object(l.a)((function(e){return{tagsDictionary:e.core.tagsDictionary,axesOrder:e.core.axesOrder,axesDictionary:e.core.axesDictionary,data:e.core.data,chartInstance:e.core.chartInstance,setChartInstance:e.core.setChartInstance}})),a=e.tagsDictionary,t=e.axesOrder,i=e.axesDictionary,s=e.data,o=e.chartInstance,c=e.setChartInstance;Object(n.useEffect)((function(){var e=function(e){var a=u.d(e,d.d);a.padding(0,0,0,0),a.leftAxesContainer.layout="vertical";var t=p(a),n=new d.e;a.cursor=n,a.cursor.xAxis=t;var r=u.d("date-axis",u.a);return r.width=u.e(100),r.height=u.e(100),a.bottomAxesContainer.parent=r,t.tooltip.parent=r,t.renderer.ticks.template.parent=r,{chart:a}}("chart").chart;return c(e),function(){return e.dispose()}}),[c]),Object(n.useEffect)((function(){o&&s.length&&(o.yAxes.clear(),o.series.clear(),o.data=s,t.forEach((function(e){var t=m(o);i[e].tags.map((function(e){var n=a[e];return function(e,a,t){var n;if(a)n=b(e,a,t);else{var r=m(e);n=b(e,r,t)}return n}(o,t,n.id)}))})))}),[t,i,a,s,o]);var g=Object(n.useMemo)((function(){return t.length<=4?"100%":200*t.length}),[t]);return console.log("chartHeight",g),r.a.createElement("div",{className:x.a.layout},r.a.createElement("div",{className:x.a.chartLayout},g&&r.a.createElement("div",{className:x.a.chart,id:"chart",style:{height:g}})),r.a.createElement("div",{className:x.a.chartDateAxis,id:"date-axis"}))})),O=t(41),v=t(39),_=t(248),y=t(98),C=t(21),D=t.n(C),j=t(195),N=t.n(j),E=function(e){var a=e.tag,t=e.index;return r.a.createElement(y.b,{draggableId:"".concat(a.id),index:t},(function(e,t){var n=e.innerRef,i=e.draggableProps,s=e.dragHandleProps;return r.a.createElement("h4",Object.assign({ref:n,className:D()(N.a.tagItem,Object(v.a)({},N.a.isTagItemDraggableNow,t.isDragging))},i,s),r.a.createElement("span",null,a.name),r.a.createElement("span",{className:N.a.tagDragIcon},"\u22ee"))}))},I=t(113),w=t.n(I),S=Object(c.a)((function(e){var a=e.axis,t=a.tags,n=a.name,i=a.id,s=e.index,o=Object(l.a)((function(e){return{tagsDictionary:e.core.tagsDictionary,isTagDraggingNow:e.core.isTagDraggingNow}})),c=o.tagsDictionary,d=o.isTagDraggingNow;return r.a.createElement(y.b,{draggableId:"".concat(i),index:s},(function(e,a){var s=a.isDragging;return r.a.createElement("div",Object.assign({ref:e.innerRef,className:D()(w.a.axisItem,Object(v.a)({},w.a.isAxisItemDraggableNow,s))},e.draggableProps,e.dragHandleProps),r.a.createElement("h4",{className:D()(w.a.axisTitle,Object(v.a)({},w.a.isAxisDraggableBordered,s))},r.a.createElement("span",null,n),r.a.createElement("span",{className:w.a.axisDragIcon},"\u22ee\u22ee")),r.a.createElement(y.c,{droppableId:i,type:"tags"},(function(e){var a;return r.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps,{className:D()(w.a.axisTags,(a={},Object(v.a)(a,w.a.isAxisTagsDroppableNow,d),Object(v.a)(a,w.a.isAxisDraggableBordered,s),a))}),t.map((function(e,a){var t=c[e];return r.a.createElement(E,{key:t.id,index:a,tag:t})})),e.placeholder)})),r.a.createElement("div",null))}))})),T=t(196),A=t.n(T),k=Object(c.a)((function(){var e=Object(l.a)((function(e){return{isTagDraggingNow:e.core.isTagDraggingNow}})).isTagDraggingNow;return r.a.createElement(y.c,{direction:"vertical",droppableId:"new-axis",type:"tags"},(function(a){return r.a.createElement("div",Object.assign({className:D()(A.a.droppableContainer,Object(v.a)({},A.a.isDroppableNow,e))},a.droppableProps,{ref:a.innerRef}),r.a.createElement("div",{className:A.a.dropHintLayout},r.a.createElement("span",null,"Drop tag here "),r.a.createElement("span",null,"to create new axis")),a.placeholder)}))})),L=t(147),R=t.n(L),H=Object(c.a)((function(){var e=Object(l.a)((function(e){return{isSiderCollapsed:e.core.isSiderCollapsed,axesOrder:e.core.axesOrder,axesDictionary:e.core.axesDictionary,setAxesOrder:e.core.setAxesOrder,setAxesDictionary:e.core.setAxesDictionary,setIsTagDraggingNow:e.core.setIsTagDraggingNow}})),a=e.isSiderCollapsed,t=e.axesOrder,n=e.axesDictionary,i=e.setAxesOrder,s=e.setAxesDictionary,o=e.setIsTagDraggingNow;return r.a.createElement("div",{className:R.a.legendLayout},r.a.createElement("h2",{className:D()(R.a.legendTitle,Object(v.a)({},R.a.legendTitleHidden,a))},"LEGEND"),t.length&&r.a.createElement(y.a,{onBeforeDragStart:function(e){return o("tags"===e.type)},onDragEnd:function(e){var a=e.draggableId,r=e.destination,c=e.source,l=e.type;if((o(!1),r)&&!(r.droppableId===c.droppableId&&r.index===c.index)){if("axes"===l){var d=Array.from(t);return d.splice(c.index,1),d.splice(r.index,0,a),void i(d)}var u=n[c.droppableId],g=n[r.droppableId];if("tags"===l&&"new-axis"===r.droppableId){var p=Math.max.apply(Math,Object(_.a)(t.map((function(e){return parseInt(e.replace(/[^\d]/g,""),10)}))))+1,m=Object(v.a)({},"axis-".concat(p),{id:"axis-".concat(p),name:"Axis-".concat(p),tags:[a]}),b=Object(O.a)(Object(O.a)(Object(O.a)({},n),m),{},Object(v.a)({},c.droppableId,Object(O.a)(Object(O.a)({},u),{},{tags:u.tags.filter((function(e){return e!==a}))})));return b[c.droppableId].tags.length||delete b[c.droppableId],i(Object.keys(b)),void s(b)}if(u!==g){var f=Array.from(u.tags);f.splice(c.index,1);var x=Object(v.a)({},c.droppableId,Object(O.a)(Object(O.a)({},u),{},{tags:f})),h=Array.from(g.tags);h.splice(r.index,0,a);var y=Object(v.a)({},r.droppableId,Object(O.a)(Object(O.a)({},g),{},{tags:h})),C=Object(O.a)(Object(O.a)(Object(O.a)({},n),x),y);f.length||(delete C[c.droppableId],i(t.filter((function(e){return e!==c.droppableId})))),s(C)}else{var D=Array.from(u.tags);D.splice(c.index,1),D.splice(r.index,0,a);var j=Object(O.a)(Object(O.a)({},n),{},Object(v.a)({},c.droppableId,Object(O.a)(Object(O.a)({},u),{},{tags:D})));s(j)}}}},r.a.createElement(y.c,{direction:"vertical",droppableId:"axes",type:"axes"},(function(e,a){var i=a.isDraggingOver;return r.a.createElement("div",Object.assign({className:D()(R.a.legendDroppableContainer,Object(v.a)({},R.a.isContainerDroppableNow,i))},e.droppableProps,{ref:e.innerRef}),t.map((function(e,a){var t=n[e];return r.a.createElement(S,{key:e,axis:t,index:a})})),e.placeholder)})),r.a.createElement(k,null)))})),P=(t(211),t(1660),t(247)),B=(t(1662),t(150)),M=t(245),F=t.n(M),z=t(129),G=(t(198),t(108)),J=t(240),Q=t.n(J),U=t(239),W=t.n(U),Y=Object(c.a)((function(){var e=Object(l.a)((function(e){return{isSiderCollapsed:e.core.isSiderCollapsed,isSiderCollapsingNow:e.core.isSiderCollapsingNow,setSiderCollapsed:e.core.setSiderCollapsed}})),a=e.isSiderCollapsed,t=e.isSiderCollapsingNow,n=e.setSiderCollapsed;return r.a.createElement(G.a,{disabled:t,icon:a?r.a.createElement(W.a,null):r.a.createElement(Q.a,null),onClick:function(){return n(!a)},type:"link"})})),K=t(241),X=t.n(K),Z=Object(c.a)((function(){var e=Object(l.a)((function(e){return{modalStates:e.core.modalStates,changeStateModal:e.core.changeStateModal}})).changeStateModal,a=Object(n.useCallback)((function(){e({type:z.a.settings,props:{visible:!0}})}),[e]);return r.a.createElement(G.a,{icon:r.a.createElement(X.a,null),onClick:a,type:"link"})})),V=t(242),q=t.n(V),$=Object(c.a)((function(){return r.a.createElement("div",{className:q.a.headerLayout},r.a.createElement(Y,null),r.a.createElement(Z,null))})),ee=t(132),ae=t.n(ee),te=B.a.Content,ne=B.a.Sider,re=B.a.Header,ie=Object(n.lazy)((function(){return Promise.resolve().then(t.bind(null,211))})),se=Object(c.a)((function(){var e=Object(l.a)((function(e){return{modals:e.core.modalStates,isSiderCollapsed:e.core.isSiderCollapsed,isSiderCollapsingNow:e.core.isSiderCollapsingNow,tagsCount:e.core.tagsCount,pointsCount:e.core.pointsCount,generateData:e.core.generateData}})),a=e.modals,t=e.isSiderCollapsed,i=e.isSiderCollapsingNow,s=e.tagsCount,o=e.pointsCount,c=e.generateData;return Object(n.useEffect)((function(){c({tagsCount:s,pointsCount:o})}),[s,o,c]),r.a.createElement(B.a,{className:ae.a.layout},r.a.createElement(ne,{className:ae.a.sider,collapsed:t,collapsedWidth:150,collapsible:!0,theme:"light",trigger:null,width:"20%"},r.a.createElement(H,null)),r.a.createElement(B.a,{className:"site-layout"},r.a.createElement(re,{className:ae.a.header},r.a.createElement($,null)),i&&r.a.createElement(P.a,{className:ae.a.recalculatingResult,icon:r.a.createElement(F.a,null),title:"Recalculating..."}),r.a.createElement(te,{className:D()(ae.a.content,Object(v.a)({},ae.a.contentHidden,i))},r.a.createElement(h,null))),a&&a[z.a.settings]&&r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(ie,null)))}));s.a.render(r.a.createElement(o.a,null,r.a.createElement(se,null)),document.getElementById("root"))},195:function(e,a,t){e.exports={tagItem:"tag-item_tagItem__1k1Fb",tagDragIcon:"tag-item_tagDragIcon__1eNNY",isTagItemDraggableNow:"tag-item_isTagItemDraggableNow__1zNQN"}},196:function(e,a,t){e.exports={droppableContainer:"new-axis-creator_droppableContainer__2skdI",isDroppableNow:"new-axis-creator_isDroppableNow__2ni8Q",dropHintLayout:"new-axis-creator_dropHintLayout__38_OC"}},211:function(e,a,t){"use strict";t.r(a);t(1543);var n=t(246),r=(t(1546),t(250)),i=(t(1548),t(208)),s=(t(1681),t(149)),o=t(249),c=t(51),l=t(1),d=t.n(l),u=t(129),g=t(54),p={labelCol:{span:12},wrapperCol:{span:12}},m=Object(c.a)((function(){var e=Object(g.a)((function(e){var a;return{modalState:null===(a=e.core.modalStates)||void 0===a?void 0:a[u.a.settings],tagsCount:e.core.tagsCount,pointsCount:e.core.pointsCount,isRandomTagsNames:e.core.isRandomTagsNames,changeState:e.core.changeStateModal,setSettings:e.core.setSettings}})),a=e.modalState,t=e.tagsCount,c=e.pointsCount,l=e.isRandomTagsNames,m=e.changeState,b=e.setSettings,f=function(){m({type:u.a.settings,props:{visible:!1}})},x=s.a.useForm(),h=Object(o.a)(x,1)[0];return d.a.createElement(n.a,{destroyOnClose:!0,okButtonProps:{htmlType:"submit"},onCancel:f,onOk:function(){h.submit(),f()},title:"Settings",visible:null===a||void 0===a?void 0:a.props.visible,width:400},d.a.createElement(s.a,Object.assign({},p,{form:h,initialValues:{pointsCount:c,tagsCount:t,isRandomTagsNames:l},onFinish:function(e){console.log("Success:",e),b(e)}}),d.a.createElement(s.a.Item,{label:"Points count",name:"pointsCount"},d.a.createElement(i.a,{max:1e3,min:50,step:50})),d.a.createElement(s.a.Item,{label:"Tags count",name:"tagsCount"},d.a.createElement(i.a,{max:15,min:1})),d.a.createElement(s.a.Item,{label:"Random tags names",name:"isRandomTagsNames",valuePropName:"checked"},d.a.createElement(r.a,null))))}));a.default=m},242:function(e,a,t){e.exports={headerLayout:"header-layout_headerLayout__3SMKc"}},254:function(e,a,t){e.exports=t(1680)},54:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t(135),r=t(1),i=t.n(r),s=function(e){return function(e,a,t){var n=i.a.useContext(e);if(!n)throw new Error;return t(a(n))}(n.b,(function(e){return e}),e)}}},[[254,1,3]]]);
//# sourceMappingURL=main.3853eee6.chunk.js.map